import{_ as u,r as _,o as p,c as f,a as i,w as m,v as x,b as y,d as w,i as b,u as g,W as D,S,g as L,e as U,f as E}from"./index.e01a173e.js";const P={name:"PanelDownload",setup(){const l=b("notyf"),e=_(!1),r=_("");return{inputText:r,isLoading:e,onURLSubmit:async()=>{if(!e.value)try{e.value=!0;const t=r.value;if(!t)return;let a="";if(t.startsWith("http")){const n=t.split("/").pop();if(!n)throw new Error("Invalid ipfs url");a=n}else{const n=g();if(!n.address)throw new Error("Please connect your wallet first");const h=new D(window.ethereum).getSigner(n.address),c=await S.connect("0x3FD611658eE18cC8aa91De4CD5E86FE2a9484309",h).getFile(t).then(d=>d).catch(d=>{throw d});if(!c)throw new Error("File not found or expired");a=c}await L(a).then(n=>{U(n)})}catch(t){const a=t;l.error(a.message)}finally{e.value=!1,r.value=""}}}}},R={id:"panel-download"},V={class:"search-box"},F=["disabled"],k=["disabled"];function B(l,e,r,o,t,a){const n=E;return p(),f("section",R,[i("div",V,[m(i("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.inputText=s),type:"text",placeholder:"Please input ipfs url or key",onKeyup:e[1]||(e[1]=y((...s)=>o.onURLSubmit&&o.onURLSubmit(...s),["enter"])),disabled:o.isLoading},null,40,F),[[x,o.inputText]]),i("button",{onClick:e[2]||(e[2]=(...s)=>o.onURLSubmit&&o.onURLSubmit(...s)),disabled:o.isLoading},[w(n)],8,k)])])}var v=u(P,[["render",B]]);const T={name:"VDownload",components:{PanelDownload:v},setup(){}},W={id:"content"};function $(l,e,r,o,t,a){const n=v;return p(),f("section",W,[i("div",null,[w(n)])])}var K=u(T,[["render",$],["__scopeId","data-v-39e71488"]]);export{K as default};
